<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/src/test/java/pt/feup/tvvs/pacman/viewer/menu/AlertMenuViewerMutationTests.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/test/java/pt/feup/tvvs/pacman/viewer/menu/AlertMenuViewerMutationTests.java" />
              <option name="originalContent" value="package pt.feup.tvvs.pacman.viewer.menu;&#10;&#10;public class AlertMenuViewerMutationTests {&#10;}&#10;&#10;&#10;&#10;" />
              <option name="updatedContent" value="package pt.feup.tvvs.pacman.viewer.menu;&#10;&#10;import com.googlecode.lanterna.TextColor;&#10;import org.junit.jupiter.api.Test;&#10;import pt.feup.tvvs.pacman.gui.GUI;&#10;import pt.feup.tvvs.pacman.model.Position;&#10;import pt.feup.tvvs.pacman.model.game.Arena;&#10;import pt.feup.tvvs.pacman.model.game.element.Wall;&#10;import pt.feup.tvvs.pacman.model.game.element.collectibles.Coin;&#10;import pt.feup.tvvs.pacman.model.game.element.ghost.Blinky;&#10;import pt.feup.tvvs.pacman.model.game.element.pacman.Pacman;&#10;import pt.feup.tvvs.pacman.model.menu.AlertMenu;&#10;&#10;import java.awt.image.BufferedImage;&#10;&#10;import static org.mockito.ArgumentMatchers.any;&#10;import static org.mockito.ArgumentMatchers.anyInt;&#10;import static org.mockito.ArgumentMatchers.anyLong;&#10;import static org.mockito.Mockito.*;&#10;&#10;public class AlertMenuViewerMutationTests {&#10;&#10;    @Test&#10;    public void drawElements_draws_score_and_lives_and_options_singlePacman() throws Exception {&#10;        GUI gui = mock(GUI.class);&#10;        doNothing().when(gui).refresh();&#10;        doNothing().when(gui).erase(any(Position.class));&#10;        doNothing().when(gui).drawCharacter(any(Position.class), any(BufferedImage.class), any(TextColor.class));&#10;        doNothing().when(gui).drawImage(any(Position.class), any(BufferedImage.class), anyInt(), anyInt());&#10;&#10;        Arena arena = new Arena(20, 15);&#10;        arena.addBlankPosition(new Position(2, 3));&#10;        Wall wall = new Wall(new Position(1,1));&#10;        arena.addWall(wall);&#10;        Coin coin = new Coin(new Position(4,4));&#10;        arena.addCollectible(coin);&#10;        Blinky blinky = new Blinky(new Position(5,5));&#10;        arena.addGhost(blinky);&#10;        Pacman p = new Pacman(new Position(6,6));&#10;        p.setLife(3);&#10;        arena.addPacman(p);&#10;        arena.setScore(77L);&#10;&#10;        AlertMenu menu = new AlertMenu(arena, &quot;PNGs/gameover.png&quot;);&#10;&#10;        AlertMenuViewer viewer = new AlertMenuViewer(menu.getAlertFilePath());&#10;&#10;        // call drawElement which internally draws TextBoxes (Score, Lives, Options)&#10;        viewer.drawElement(gui, menu, 0L);&#10;&#10;        // Score TextBox is created at Position(11,0) -&gt; first drawCharacter call for that box uses x==11&#10;        verify(gui, atLeastOnce()).drawCharacter(argThat(pos -&gt; pos.getX() == 11 &amp;&amp; pos.getY() == 0), any(BufferedImage.class), any(TextColor.class));&#10;&#10;        // For single pacman, Lives textbox is at Position(274,0)&#10;        verify(gui, atLeastOnce()).drawCharacter(argThat(pos -&gt; pos.getX() == 274 &amp;&amp; pos.getY() == 0), any(BufferedImage.class), any(TextColor.class));&#10;&#10;        // Options are drawn via drawCharacter as well; verify at least one drawCharacter happened (whitebox already covers content elsewhere)&#10;        verify(gui, atLeastOnce()).drawCharacter(any(Position.class), any(BufferedImage.class), any(TextColor.class));&#10;&#10;        // Alert image should be drawn via drawImage&#10;        verify(gui, atLeastOnce()).drawImage(any(Position.class), any(BufferedImage.class), anyInt(), anyInt());&#10;    }&#10;&#10;    @Test&#10;    public void drawElements_draws_two_lives_textboxes_for_twoPacmans() throws Exception {&#10;        GUI gui = mock(GUI.class);&#10;        doNothing().when(gui).refresh();&#10;        doNothing().when(gui).drawCharacter(any(Position.class), any(BufferedImage.class), any(TextColor.class));&#10;        doNothing().when(gui).drawImage(any(Position.class), any(BufferedImage.class), anyInt(), anyInt());&#10;&#10;        Arena arena = new Arena(20, 15);&#10;        Pacman p1 = new Pacman(new Position(1, 1)); p1.setLife(2);&#10;        Pacman p2 = new Pacman(new Position(2, 2)); p2.setLife(1);&#10;        arena.addPacman(p1);&#10;        arena.addPacman(p2);&#10;&#10;        AlertMenu menu = new AlertMenu(arena, &quot;PNGs/gameover.png&quot;);&#10;        AlertMenuViewer viewer = new AlertMenuViewer(menu.getAlertFilePath());&#10;&#10;        viewer.drawElement(gui, menu, 10L);&#10;&#10;        // When 2 pacmans, the two lives textboxes are created at x=199 and x=259&#10;        verify(gui, atLeastOnce()).drawCharacter(argThat(pos -&gt; pos.getX() == 199 &amp;&amp; pos.getY() == 0), any(BufferedImage.class), any(TextColor.class));&#10;        verify(gui, atLeastOnce()).drawCharacter(argThat(pos -&gt; pos.getX() == 259 &amp;&amp; pos.getY() == 0), any(BufferedImage.class), any(TextColor.class));&#10;&#10;        // Ensure alert image drawn as well&#10;        verify(gui, atLeastOnce()).drawImage(any(Position.class), any(BufferedImage.class), anyInt(), anyInt());&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>